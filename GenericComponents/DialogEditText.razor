@using MudBlazor;

<MudDialog>
    <DialogContent>
        <MudPaper Elevation="0" Style="overflow-y:scroll">
            <MudTextField T="string" Lines="5" Variant="Variant.Outlined" Text="@Text" @ref="_textField" />
        </MudPaper>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="() => MudDialog.Close()" Variant="Variant.Outlined" Color="Color.Error">ANNULLA</MudButton>
        <MudButton OnClick="editNote" Variant="Variant.Outlined" Color="Color.Success">SALVA</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }
    [Parameter] public string Text { get; set; }
    [Parameter] public Action<string> OnSubmit { get; set; }

    private MudTextField<string> _textField;

    private void editNote()
    {
        OnSubmit?.Invoke(_textField.Value);
        MudDialog.Close();
    }
}
